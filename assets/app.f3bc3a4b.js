var angularLocalStorage=angular.module("LocalStorageModule",[]);angularLocalStorage.value("prefix","ls"),angularLocalStorage.constant("cookie",{expiry:30,path:"/"}),angularLocalStorage.constant("notify",{setItem:!0,removeItem:!1}),angularLocalStorage.service("localStorageService",["$rootScope","prefix","cookie","notify",function($rootScope,prefix,cookie,notify){"."!==prefix.substr(-1)&&(prefix=prefix?prefix+".":"");var browserSupportsLocalStorage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return $rootScope.$broadcast("LocalStorageModule.notification.error",e.message),!1}},addToLocalStorage=function(key,value){if(!browserSupportsLocalStorage())return $rootScope.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),notify.setItem&&$rootScope.$broadcast("LocalStorageModule.notification.setitem",{key:key,newvalue:value,storageType:"cookie"}),addToCookies(key,value);"undefined"==typeof value&&(value=null);try{(angular.isObject(value)||angular.isArray(value))&&(value=angular.toJson(value)),localStorage.setItem(prefix+key,value),notify.setItem&&$rootScope.$broadcast("LocalStorageModule.notification.setitem",{key:key,newvalue:value,storageType:"localStorage"})}catch(e){return $rootScope.$broadcast("LocalStorageModule.notification.error",e.message),addToCookies(key,value)}return!0},getFromLocalStorage=function(key){if(!browserSupportsLocalStorage())return $rootScope.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),getFromCookies(key);var item=localStorage.getItem(prefix+key);return item?"{"===item.charAt(0)||"["===item.charAt(0)?angular.fromJson(item):item:null},removeFromLocalStorage=function(key){if(!browserSupportsLocalStorage())return $rootScope.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),notify.removeItem&&$rootScope.$broadcast("LocalStorageModule.notification.removeitem",{key:key,storageType:"cookie"}),removeFromCookies(key);try{localStorage.removeItem(prefix+key),notify.removeItem&&$rootScope.$broadcast("LocalStorageModule.notification.removeitem",{key:key,storageType:"localStorage"})}catch(e){return $rootScope.$broadcast("LocalStorageModule.notification.error",e.message),removeFromCookies(key)}return!0},getKeysForLocalStorage=function(){if(!browserSupportsLocalStorage())return $rootScope.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var prefixLength=prefix.length,keys=[];for(var key in localStorage)if(key.substr(0,prefixLength)===prefix)try{keys.push(key.substr(prefixLength))}catch(e){return $rootScope.$broadcast("LocalStorageModule.notification.error",e.Description),[]}return keys},clearAllFromLocalStorage=function(){if(!browserSupportsLocalStorage())return $rootScope.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),clearAllFromCookies();var prefixLength=prefix.length;for(var key in localStorage)if(key.substr(0,prefixLength)===prefix)try{removeFromLocalStorage(key.substr(prefixLength))}catch(e){return $rootScope.$broadcast("LocalStorageModule.notification.error",e.message),clearAllFromCookies()}return!0},browserSupportsCookies=function(){try{return navigator.cookieEnabled||"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)}catch(e){return $rootScope.$broadcast("LocalStorageModule.notification.error",e.message),!1}},addToCookies=function(key,value){if("undefined"==typeof value)return!1;if(!browserSupportsCookies())return $rootScope.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var expiry="",expiryDate=new Date;null===value&&(cookie.expiry=-1,value=""),0!==cookie.expiry&&(expiryDate.setTime(expiryDate.getTime()+1e3*60*60*24*cookie.expiry),expiry="; expires="+expiryDate.toGMTString()),key&&(document.cookie=prefix+key+"="+encodeURIComponent(value)+expiry+"; path="+cookie.path)}catch(e){return $rootScope.$broadcast("LocalStorageModule.notification.error",e.message),!1}return!0},getFromCookies=function(key){if(!browserSupportsCookies())return $rootScope.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){for(var thisCookie=cookies[i];" "==thisCookie.charAt(0);)thisCookie=thisCookie.substring(1,thisCookie.length);if(0===thisCookie.indexOf(prefix+key+"="))return decodeURIComponent(thisCookie.substring(prefix.length+key.length+1,thisCookie.length))}return null},removeFromCookies=function(key){addToCookies(key,null)},clearAllFromCookies=function(){for(var thisCookie=null,prefixLength=prefix.length,cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){for(thisCookie=cookies[i];" "==thisCookie.charAt(0);)thisCookie=thisCookie.substring(1,thisCookie.length);key=thisCookie.substring(prefixLength,thisCookie.indexOf("=")),removeFromCookies(key)}};return{isSupported:browserSupportsLocalStorage,set:addToLocalStorage,add:addToLocalStorage,get:getFromLocalStorage,keys:getKeysForLocalStorage,remove:removeFromLocalStorage,clearAll:clearAllFromLocalStorage,cookie:{set:addToCookies,add:addToCookies,get:getFromCookies,remove:removeFromCookies,clearAll:clearAllFromCookies}}}]),function(angular){"use strict";angular.module("JcApp",["ngSanitize","SecretaryProblem"]).config(["$routeProvider","$locationProvider",function($routeProvider,$locationProvider){$routeProvider.when("/",{templateUrl:"/partials/home.html",controller:"HomeCtrl"}).when("/cv/:language",{templateUrl:"/partials/cv.html",controller:"CvCtrl"}).when("/game/:n",{templateUrl:"/partials/secretary-problem-standalone.html"}).when("/game",{redirectTo:"/game/10"}).when("/en",{redirectTo:"/"}).when("/es",{redirectTo:"/cv/spanish"}).when("/cv",{redirectTo:"/cv/english"}).otherwise({templateUrl:"/partials/404.html"}),$locationProvider.html5Mode(!0).hashPrefix("!")}])}(angular),function(angular){"use strict";angular.module("JcApp").filter("jcCapitalise",[function(){return function(string){return string.charAt(0).toUpperCase()+string.slice(1)}}])}(angular),function(angular){"use strict";angular.module("JcApp").controller("AppCtrl",["$scope","$window","$location",function($scope,$window,$location){$scope.$on("$routeChangeSuccess",function(){$scope.path=$location.path(),$window.hasOwnProperty("ga")&&$window.ga("send","pageview",$location.path())})}])}(angular),function(angular){"use strict";angular.module("JcApp").controller("CvCtrl",["$rootScope","$scope","$routeParams","$location","$filter",function($rootScope,$scope,$routeParams,$location,$filter){$scope.cv={params:$routeParams,languages:["english","spanish"],data:{english:{name:"Javier Cejudo",tag:"CV in English",contact:[{label:"<span class='glyphicon glyphicon-envelope vertical-middle'></span> Email",value:"<a href='mailto:javier@javiercejudo.com'>javier@javiercejudo.com</a>"},{label:"<span class='glyphicon glyphicon-link vertical-middle'></span> GitHub",value:"<a href='https://github.com/javiercejudo'>github.com/javiercejudo</a>"},{label:"<span class='glyphicon glyphicon-phone vertical-middle'></span> Phone",value:"(+61) 0432 429 789"}],career_objectives:{label:"Career Objectives",value:"Wish to continue career as a software engineer where skills in database systems, data processing and mathematical training can be used, with special interest in management systems (e.g. finance, e-commerce) and frontend development."},education:{label:"Education",list:["Technical Engineer in Administrative Data Processing, University of La Rioja, 2011.","Exchange Undergraduate, University of Technology Sydney, 2009.","Degree in Mathematics, University of La Rioja (Withdrawn in good standing.)","International Baccalaureate Diploma, 2006."]},work_experience:{label:"Work Experience",list:[{title:"Web developer at <a href='http://www.zanui.com.au'>Zanui.com.au</a>",dates:"January 2013 - Present",description:"Participate in the front end and back end development of their online site including a built from scratch mobile version using AngularJS and Symfony 2. Developed their order tracking page which has consistently been in the top 10 visited pages of the site."},{title:"Web developer at <a href='http://www.jig.es/'>JIG Internet Consulting S.L.</a>",dates:"April 2012 - October 2012",description:"Participated in a number of projects working on front end (including rich animations) and back end development. Created a custom SOAP client in PHP to generate dynamic cacheable listings on demand."},{title:"Developer & Innovation Consultant at <a href='http://www.ingenieriaeinnovacion.com/index.php?idioma=en'>Ingeniería e Innovación S.L.</a>",dates:"May 2010 - March 2012",description:"Developed a human resource management tool for R&D projects in PHP and MySQL that managed information of more than 50 client companies and saved the company up to 10 hours per project."}]}},spanish:{name:"Javier Cejudo",tag:"CV en español",contact:[{label:"<span class='glyphicon glyphicon-envelope vertical-middle'></span> Correo electrónico",value:"<a href='mailto:javier@javiercejudo.com'>javier@javiercejudo.com</a>"},{label:"<span class='glyphicon glyphicon-link vertical-middle'></span> GitHub",value:"<a href='https://github.com/javiercejudo'>github.com/javiercejudo</a>"},{label:"<span class='glyphicon glyphicon-phone vertical-middle'></span> Teléfono",value:"(+61) 0432 429 789"}],career_objectives:{label:"Objetivos profesionales",value:"Busco continuar mi carrera como desarrollador en un puesto que requiera habilidades relacionadas con sistemas de bases de datos, procesamiento de información y entrenamiento matemático, con especial interés en sistemas de gestión (por ejemplo: finanzas, comercio electrónico, etc.)."},education:{label:"Educación",list:["Ingeniería Técnica en Informática de Gestión, Universidad de La Rioja, 2006-2011.","Intercambio de pregrado, Universidad Tecnológica de Sydney (UTS), 2009.","Primer Ciclo de Licenciatura de Matemáticas, Universidad de La Rioja, 2006-2010.","Diploma del Bachillerato Internacional, IES Sagasta, 2004-2006."]},work_experience:{label:"Experiencia laboral",list:[{title:"Desarrollador web en <a href='http://www.zanui.com.au'>Zanui.com.au</a>",dates:"Enero 2013 - Presente",description:"Participo en el desarrollo front end y back end del sitio web, incluyendo la versión móvil, creada desde cero con AngularJS y Symfony 2. Desarrollé su sistema de seguimiento de pedidos, que se ha consolidado entre las 10 páginas con más visitantes únicos de la web."},{title:"Desarrollador de software en <a href='http://www.jig.es/'>JIG Internet Consulting S.L.</a>",dates:"Abril 2010 - Octubre 2012",description:"Participación en varios proyectos de compañías líderes en diversos sectores. Creación de un cliente SOAP en PHP para generar listados cacehables bajo demanda y del front end de una tienda electrónica en JavaScript + jQuery con animaciones complejas y soporte para drag & drop."},{title:"Técnico de I+D en <a href='http://www.ingenieriaeinnovacion.com/index.php?idioma=es'>Ingeniería e Innovación S.L.</a>",dates:"Mayo 2010 - Marzo 2012",description:"Desarrollo de una herramienta de apoyo para la gestión de recursos humanos en el desarrollo de proyectos de I+D en PHP-MySQL que actualmente gestiona información de más de 60 clientes y ha ahorrado a la empresa hasta 10 horas de tareas de bajo valor añadido por proyecto."}]}}},language:null},$scope.cvLan=null,$scope.initCv=function(){$scope.setLanguage()},$scope.setLanguage=function(){var cv=$scope.cv,params=cv.params,languages=cv.languages;return cv.language=params.language,params.language&&-1!==languages.indexOf(params.language)?($rootScope.pageTitle="CV: "+$filter("jcCapitalise")(params.language),$scope.cvLocal=cv.data[params.language],void 0):($location.path("/cv/english"),$location.replace(),void 0)}}])}(angular),function(angular){"use strict";angular.module("JcApp").controller("HomeCtrl",["$scope",function(){}])}(angular),function(angular){"use strict";angular.module("SecretaryProblem",["LocalStorageModule"]).controller("SecretaryProblemCtrl",["$scope","$timeout","$routeParams","$location","$filter","localStorageService",function($scope,$timeout,$routeParams,$location,$filter,localStorageService){$scope.game={info:{name:"Secretary Problem",version:"0.0.1",author:"Javier Cejudo"},numDigits:{min:3,max:9},numDigitsThis:{min:null,max:null},base:{min:6,max:14},baseThis:null,n:10,items:[],unknownValue:"?",numItemsShown:null,lastItemShown:null,itemSelected:null,won:null},$scope.$watch("game.numItemsShown",function(numItemsShown){numItemsShown===$scope.game.n&&$scope.endGame()}),$scope.initSecretaryProblem=function(){var gamesPlayed,i,game=$scope.game,items=game.items,numDigits=game.numDigits,numDigitsThis=game.numDigitsThis,randomNumDigitsArray=[];if(-1!==game.lastItemShown){for($scope.processN(),game.numItemsShown=0,game.lastItemShown=-1,game.itemSelected=-1,game.won=null,randomNumDigitsArray=[$scope.getRandomInt(numDigits.min,numDigits.max),$scope.getRandomInt(numDigits.min,numDigits.max)],numDigitsThis.min=Math.min.apply(null,randomNumDigitsArray),numDigitsThis.max=Math.max.apply(null,randomNumDigitsArray),game.baseThis=$scope.getRandomInt(game.base.min,game.base.max),i=0;i<game.n;i++)items[i]=-1;gamesPlayed=localStorageService.get("sp-games-played-"+game.n)||0,localStorageService.set("sp-games-played-"+game.n,parseInt(gamesPlayed,10)+1)}},$scope.processN=function(){var candidateN,game=$scope.game;if($routeParams.hasOwnProperty("n")){if(candidateN=parseInt($routeParams.n,10),isNaN(candidateN))return $location.path("/game"),$location.replace(),void 0;if(2>candidateN?candidateN=2:candidateN>256&&(candidateN=256),candidateN.toString()===$routeParams.n)return game.n=candidateN,void 0;$location.path("/game/"+candidateN),$location.replace()}},$scope.generateItemValue=function(index){var willBeMax,value,game=$scope.game,items=game.items,numDigits=game.numDigitsThis;return-1!==items[index]?(-1!==game.itemSelected?($scope.initSecretaryProblem(),$scope.generateItemValue(index)):$scope.isRejected(index)||$scope.selectItem(index,!0),void 0):(game.numItemsShown>0?(willBeMax=1===$scope.getRandomInt(1,game.numItemsShown+1)/(game.numItemsShown+1),value=willBeMax?$scope.getRandomInt($scope.getMax(),Math.pow(game.baseThis,numDigits.max)):$scope.getRandomInt(Math.pow(game.baseThis,numDigits.min-1),$scope.getMax())):value=$scope.getRandomInt(Math.pow(game.baseThis,numDigits.min-1),Math.pow(game.baseThis,numDigits.max)),items[index]=value,game.lastItemShown=index,game.numItemsShown+=1,void 0)},$scope.generateRestOfItemValues=function(){var i,game=$scope.game,items=game.items,n=game.n;for(i=0;n>i;i++)-1===items[i]&&$scope.generateItemValue(i)},$scope.selectItem=function(index,generateRest){$scope.canSelectItem()&&($scope.game.itemSelected=index,generateRest&&$scope.generateRestOfItemValues())},$scope.canSelectItem=function(){var game=$scope.game;return-1===game.itemSelected&&0!==game.numItemsShown},$scope.isCurrent=function(index){var game=$scope.game;return game.lastItemShown===index&&-1===game.itemSelected},$scope.isRejected=function(index){var game=$scope.game;return-1!==game.items[index]&&!$scope.isCurrent(index)&&-1==game.itemSelected},$scope.isMax=function(index){var game=$scope.game;return-1===game.itemSelected?!1:game.items[index]>=$scope.getMax()},$scope.getMax=function(){var game=$scope.game;return Math.max.apply(null,game.items)},$scope.endGame=function(){var gamesWon,game=$scope.game;return-1===game.itemSelected&&$scope.selectItem(game.lastItemShown,!1),$scope.isMax(game.itemSelected)?(game.won=!0,gamesWon=localStorageService.get("sp-games-won-"+game.n)||0,localStorageService.set("sp-games-won-"+game.n,parseInt(gamesWon,10)+1),void 0):(game.won=!1,void 0)},$scope.getRecord=function(){var percentage,game=$scope.game,gamesPlayed=localStorageService.get("sp-games-played-"+game.n)||0,gamesWon=localStorageService.get("sp-games-won-"+game.n)||0;return gamesWon=parseInt(gamesWon,10),gamesPlayed=parseInt(gamesPlayed,10),-1===game.itemSelected&&(gamesPlayed-=1),gamesPlayed>0?(percentage=100*gamesWon/gamesPlayed,gamesWon+"/"+gamesPlayed+" ("+$filter("number")(percentage,2)+"%)"):""},$scope.resetRecord=function(){var game=$scope.game;localStorageService.remove("sp-games-won-"+game.n),localStorageService.remove("sp-games-played-"+game.n),$timeout(function(){$scope.initSecretaryProblem()},100)},$scope.getRandomInt=function(min,max){return Math.floor(Math.random()*(max-min+1))+min}}])}(angular);
/*
//@ sourceMappingURL=./app.map
*/